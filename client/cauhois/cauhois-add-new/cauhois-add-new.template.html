<div class="uk-width-medium-8-10 uk-container-center reset-print">
    <div class="uk-grid uk-grid-collapse" data-uk-grid-margin>
        <div class="uk-width-large-1-1">
            <div class="md-card">
                <div class="md-card-toolbar">
                    <div class="md-card-toolbar-actions">
                        <card-fullscreen-activate></card-fullscreen-activate>
                        <i class="md-icon material-icons no-animate" ng-click="vm.utils.decreaseNumOfLuaChons()">&#xE5D5;</i>
                        <card-toggle></card-toggle>
                    </div>
                    <card-fullscreen-deactivate></card-fullscreen-deactivate>
                    <h3 class="md-card-toolbar-heading-text">
                        Tạo câu hỏi mới
                    </h3>
                </div>
                <div class="md-card-content">
                    <div class="md-card-content">
                        <div class="uk-grid uk-margin-medium-top uk-margin-large-bottom" data-uk-grid-margin>
                            <div class="uk-width-large-1-2">
                                <div class="uk-margin-right uk-margin-left">
                                    <h3 class="heading_c uk-margin-small-bottom">Dữ liệu câu hỏi</h3>
                                    <div class="uk-grid uk-margin-medium-top uk-margin-medium-bottom" data-uk-grid-margin>
                                        <div class="uk-width-medium-1-1">
                                            <div class="uk-form-row">
                                                <label>Câu hỏi</label>
                                                <textarea cols="30" rows="4" class="md-input" ng-model="vm.newCauHoi.noi_dung.tieu_de" md-input textarea-autosize></textarea>
                                            </div>
                                        </div>
                                        <div class="uk-width-medium-1-1 uk-clearfix">
                                            <div class="uk-align-medium-right">
                                                Thêm / bớt các lựa chọn:
                                                <i class="md-icon material-icons no-animate" ng-class="{'color-fade': !vm.pageOptions.able.addNumOfLuaChons}" ng-click="vm.utils.addNumOfLuaChons()">&#xE145;</i>
                                                <i class="md-icon material-icons no-animate" ng-class="{'color-fade': !vm.pageOptions.able.decreaseNumOfLuaChons}" ng-click="vm.utils.decreaseNumOfLuaChons()">&#xE15B;</i>
                                            </div>
                                        </div>
                                        <div class="uk-width-medium-1-1">
                                            <ul class="uk-nestable" id="nestable">
                                                <li ng-repeat="item in vm.newCauHoi.noi_dung.lua_chons track by $index" data-id="{{$index}}" class="uk-nestable-item" >
                                                    <div class="uk-nestable-panel">
                                                        
                                                        <div class="uk-grid">
                                                            <div class="uk-width-small-5-6">
                                                                {{ $index | displayNumberAsAlphabelt }}.<br/>
                                                                <textarea cols="30" rows="1" class="md-input uk-text-muted uk-text-small" md-input textarea-autosize style="padding-top:0px;line-height: 16px" ng-model="vm.newCauHoi.noi_dung.lua_chons[$index].tieu_de"></textarea>
                                                            </div>
                                                            <div class="uk-width-small-1-6">
                                                                <i class="md-icon-fade material-icons no-animate" ng-class="{'color-primary': item.isCorrect}" ng-click="vm.utils.setCorrectAnswer($index)">&#xE876;</i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="uk-width-large-1-2">
                                <div class="uk-accordion" data-uk-accordion>
                                    <h3 class="uk-accordion-title">Phân loại</h3>
                                    <div class="uk-accordion-content">
                                        <div class="uk-grid uk-margin-medium-bottom">
                                            <div class="uk-width-medium-1-1 uk-clearfix">
                                                <div class="uk-align-medium-right">
                                                    <i class="md-icon material-icons no-animate" ng-click="vm.utils.decreaseNumOfLuaChons()">&#xE5D5;</i>
                                                    <i class="md-icon-fade material-icons no-animate" ng-class="{'uk-text-warning': vm.pageOptions.template.flags.isPhanLoai}" ng-click="vm.pageOptions.template.flags.isPhanLoai=!vm.pageOptions.template.flags.isPhanLoai">{{ (!vm.pageOptions.template.flags.isPhanLoai) ? '&#xE898;' : '&#xE899;' }}</i>                                                    
                                                </div>
                                            </div>
                                            <div class="uk-width-medium-3-5 uk-margin-small-top">
                                                <div class="uk-form-stacked">
                                                    <label for="cauhoi_phanloai_nhomcauhoi">Nhóm câu hỏi</label>
                                                    <select kendo-drop-down-list style="width: 100%;" id="cauhoi_phanloai_nhomcauhoi"
                                                        k-ng-model="vm.newCauHoi.phan_loai.nhom_cau_hoi"
                                                        k-data-text-field="'ten'" 
                                                        k-data-value-field="'ma'"
                                                        k-filter="'contains'"
                                                        k-index="-1"
                                                        k-data-source="vm.dictionary.nhom_cau_hois">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="uk-width-medium-2-5 uk-margin-small-top">
                                                <div class="uk-form-stacked">
                                                    <label for="cauhoi_phanloai_mucdo">Mức độ</label>
                                                    <select kendo-drop-down-list style="width: 100%;" id="cauhoi_phanloai_mucdo"
                                                        k-ng-model="vm.newCauHoi.phan_loai.muc_do"
                                                        k-data-text-field="'ten'"
                                                        k-data-value-field="'ma'"
                                                        k-index="-1"
                                                        k-data-source="vm.dictionary.muc_dos">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="uk-width-medium-3-5 uk-margin-medium-top">
                                                <div class="uk-form-stacked">
                                                    <label for="cauhoi_phanloai_nhomtb">Nhóm TB</label>
                                                    <select kendo-drop-down-list style="width: 100%;" id="cauhoi_phanloai_nhomtb"
                                                        k-ng-model="vm.newCauHoi.phan_loai.nhom_tb"
                                                        k-data-text-field="'ten'"
                                                        k-data-value-field="'ma'"
                                                        k-filter="'contains'"
                                                        k-index="-1"
                                                        k-data-source="vm.dictionary.nhom_tbs">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="uk-width-medium-1-1 uk-margin-medium-top">
                                                <label for="cauhoi_phanloai_loaithietbi">Loại TB</label>
                                                <select kendo-multi-select id="cauhoi_phanloai_loaithietbi"
                                                    k-data-source="vm.dictionary.loai_tbs[vm.newCauHoi.phan_loai.nhom_tb.ma]"
                                                    k-ng-model="vm.newCauHoi.phan_loai.loai_tb">
                                                </select>
                                            </div>
                                            <div class="uk-width-medium-1-1 uk-margin-medium-top">
                                                <div class="uk-form-stacked">
                                                    <label for="cauhoi_phanloai_bacthi">Bậc thi</label>
                                                    <select kendo-multi-select id="cauhoi_phanloai_bacthi"
                                                        k-data-source="vm.dictionary.bac_this"
                                                        k-ng-model="vm.newCauHoi.phan_loai.bac_thi">
                                                    </select>
                                                </div>
                                            </div>                                           
                                        </div>
                                    </div>
                                    <h3 class="uk-accordion-title">So sánh với CSDL</h3>
                                    <div class="uk-accordion-content">
                                        <div class="uk-grid uk-margin-medium-bottom">
                                            <div class="uk-width-medium-1-1 uk-clearfix">
                                                <div class="uk-align-medium-right">
                                                    <i class="md-icon-fade material-icons no-animate" ng-class="{'color-primary': vm.pageOptions.props.isDiffViewLink}" ng-click="vm.pageOptions.props.isDiffViewLink=!vm.pageOptions.props.isDiffViewLink">&#xE157;</i>
                                                    <i class="md-icon-fade material-icons no-animate" ng-class="{'color-primary': vm.pageOptions.props.isDiffViewResult}" ng-click="vm.pageOptions.props.isDiffViewResult=!vm.pageOptions.props.isDiffViewResult">&#xE8F4;</i>
                                                    <i class="md-icon material-icons no-animate" ng-class="{'color-fade': !vm.pageOptions.able.decreaseNumOfLuaChons}" ng-click="vm.utils.decreaseNumOfLuaChons()">&#xE5D5;</i>
                                                </div>
                                            </div>
                                            <div class="uk-width-medium-1-1">
                                                <label for="cauhoi_phanloai_loaithietbi">Dữ liệu từ hệ thống</label>
                                                <input kendo-auto-complete style="width: 100%;" 
                                                    ng-model="vm.pageOptions.input.diffViewSearch"
                                                    k-filter="'contains'"
                                                    k-highlight-first="true"
                                                    k-suggest="true"
                                                    k-data-source="vm.pageReactiveData.cauhois"
                                                    k-data-text-field="'noi_dung.tieu_de'"/>
                                            </div>
                                            <div class="uk-width-medium-1-1 uk-margin-medium-top">
                                                <div class="uk-form-row">
                                                    <label>Câu hỏi</label>
                                                    <textarea cols="30" rows="4" class="md-input" ng-model="vm.newCauHoi.noi_dung.tieu_de" md-input textarea-autosize></textarea>
                                                </div>
                                            </div>
                                            <div class="uk-width-medium-1-1 uk-margin-medium-top">
                                                <div class="uk-form-row">
                                                    <label>DiffView</label>
                                                    <textarea cols="30" rows="4" class="md-input" ng-model="vm.newCauHoi.noi_dung.tieu_de" md-input textarea-autosize></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <h3 class="uk-accordion-title">Gắn thẻ (tag)</h3>
                                    <div class="uk-accordion-content">
                                        <div class="uk-grid uk-margin-medium-bottom">
                                            <div class="uk-width-medium-1-1 uk-clearfix">
                                                <div class="uk-align-medium-right">                                                  
                                                    <i class="md-icon material-icons no-animate" ng-class="{'color-fade': !vm.pageOptions.able.decreaseNumOfLuaChons}" ng-click="vm.utils.decreaseNumOfLuaChons()">&#xE5D5;</i>
                                                     <i class="md-icon-fade material-icons no-animate" ng-class="{'uk-text-warning': vm.pageOptions.template.flags.isTags}" ng-click="vm.pageOptions.template.flags.isTags=!vm.pageOptions.template.flags.isTags">{{ (!vm.pageOptions.template.flags.isTags) ? '&#xE898;' : '&#xE899;' }}</i>
                                                </div>
                                            </div>
                                            <div class="uk-width-medium-1-1">
                                                <label for="cauhoi_phanloai_loaithietbi">Thêm tag mới</label>
                                                <select kendo-multi-select id="cauhoi_phanloai_loaithietbi"
                                                    k-data-source="vm.pageReactiveData.tags"
                                                    k-filter="'contains'"
                                                    k-highlight-first="false"
                                                    k-data-text-field="'ten'"
                                                    k-data-value-field="'ten'"
                                                    ng-model="vm.newCauHoi.tags">
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <h3 class="uk-accordion-title">Hình ảnh</h3>
                                    <div class="uk-accordion-content">
                                        <div class="uk-grid uk-margin-medium-bottom">
                                            <div class="uk-width-medium-1-1 uk-clearfix">
                                                <div class="uk-align-medium-right">
                                                    <i class="md-icon-fade material-icons no-animate" ng-class="{'color-fade': !vm.pageOptions.able.addNumOfLuaChons}" ng-click="vm.utils.addNumOfLuaChons()">&#xE145;</i>
                                                    <i class="md-icon-fade material-icons no-animate" ng-class="{'color-fade': !vm.pageOptions.able.decreaseNumOfLuaChons}" ng-click="vm.utils.decreaseNumOfLuaChons()">&#xE15B;</i>
                                                    <i class="md-icon-fade material-icons no-animate" ng-class="{'uk-text-warning': vm.pageOptions.template.flags.isUrlHinhAnh}" ng-click="vm.pageOptions.template.flags.isUrlHinhAnh=!vm.pageOptions.template.flags.isUrlHinhAnh">{{ (!vm.pageOptions.template.flags.isUrlHinhAnh) ? '&#xE898;' : '&#xE899;' }}</i>
                                                </div>
                                            </div>
                                            <div class="uk-width-medium-1-1 uk-margin-small-top">
                                                <div class="uk-form-row">
                                                    <input type="checkbox" ui-switch ng-model="vm.newCauHoi.noi_dung.isHasImage" color="{{vm.utils.accentColor}}" id="cauhoi_noidung_isHasImage" />
                                                    <label for="cauhoi_noidung_isHasImage" class="inline-label">Câu hỏi {{ vm.newCauHoi.noi_dung.isHasImage ? 'có' : 'không' }} sử dụng hình ảnh</label>
                                                </div>
                                            </div>
                                            <div class="uk-width-medium-1-1 uk-margin-medium-top no-animate" ng-show="vm.newCauHoi.noi_dung.isHasImage">
                                                <div class="uk-grid">
                                                    <div class="uk-width-medium-5-6">
                                                        <div class="uk-form-row">
                                                            <label>Liên kết tới hình ảnh</label>
                                                            <input type="text" class="md-input" ng-model="newModelThietBi.icon" md-input />
                                                        </div>
                                                    </div>
                                                    <div class="uk-width-medium-1-6" style="padding-top: 10px;">
                                                        <i class="md-icon-fade material-icons no-animate" ng-class="{'color-fade': !vm.pageOptions.able.addNumOfLuaChons}" ng-click="vm.utils.addNumOfLuaChons()">&#xE8F4;</i>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="uk-width-medium-1-1 uk-margin-medium-top no-animate" ng-show="vm.newCauHoi.noi_dung.isHasImage">
                                                <div class="uk-grid">
                                                    <div class="uk-width-medium-5-6">
                                                        <div class="uk-form-row">
                                                            <label>Liên kết tới hình ảnh</label>
                                                            <input type="text" class="md-input" ng-model="newModelThietBi.icon" md-input />
                                                        </div>
                                                    </div>
                                                    <div class="uk-width-medium-1-6" style="padding-top: 10px;">
                                                        <i class="md-icon-fade material-icons no-animate" ng-class="{'color-fade': !vm.pageOptions.able.addNumOfLuaChons}" ng-click="vm.utils.addNumOfLuaChons()">&#xE8F4;</i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <h3 class="uk-accordion-title">Ghi chú</h3>
                                    <div class="uk-accordion-content">
                                        <div class="uk-grid uk-margin-medium-bottom">
                                            <div class="uk-width-medium-1-1 uk-clearfix">
                                                <div class="uk-align-medium-right">
                                                    <i class="md-icon material-icons no-animate" ng-class="{'color-fade': !vm.pageOptions.able.decreaseNumOfLuaChons}" ng-click="vm.utils.decreaseNumOfLuaChons()">&#xE5D5;</i>
                                                    <i class="md-icon-fade material-icons no-animate" ng-class="{'uk-text-warning': vm.pageOptions.template.flags.isGhiChu}" ng-click="vm.pageOptions.template.flags.isGhiChu=!vm.pageOptions.template.flags.isGhiChu">{{ (!vm.pageOptions.template.flags.isGhiChu) ? '&#xE898;' : '&#xE899;' }}</i>
                                                </div>
                                            </div>
                                            <div class="uk-width-1-1">
                                                <label for="user_bio">Mô tả</label>
                                                <textarea id="user_bio" class="md-input" name="user_bio" cols="10" rows="2" md-input ng-model="vm.newCauHoi.mo_ta"></textarea>
                                            </div>
                                            <div class="uk-width-1-1 uk-margin-medium-top">
                                                <label for="user_bio">Ghi chú</label>
                                                <textarea id="user_bio" class="md-input" name="user_bio" cols="10" rows="2" md-input ng-model="vm.newCauHoi.ghi_chu"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>            
        </div>
    </div>
</div>

<div class="md-fab-wrapper">
    <a class="md-fab md-fab-accent" ng-click="vm.addNewCauHoi()">
        <i class="material-icons">&#xE161;</i>
    </a>
</div>
